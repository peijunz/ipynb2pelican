# Pelican Plugin for Jupyter Notebooks using MetaCell

This plugin provides markup for Jupyter/IPython notebooks in pelican, so `.ipynb` files are recognized as a valid filetype for an article. 

The plugin is simple:

+ The CSS of jupyter will not be taken into outputs
+ The summary will be generated by Pelican

But it is nevertheless powerful:

+ Math Support
+ A Great Solution for metadata
+ Several configurable precessors provided
    - SubCell Selection
    - Ignore cells with `#ignore` tag
    - Empty Cell Removal
+ You can change `preprocessor.py` and define your own preprocessors

## MetaCell

Idea of MetaCell:

> All metadata should be stored at the first cell of ipynb. 

MetaCell is the biggest difference from [pelican-ipynb](https://github.com/danielfrg/pelican-ipynb). With MetaCell, there is NO need to create another metadata file, or edit ipynb externally. 

The block below is a template metadata cell

```
# This is title
+ date: 2020-02-22
+ tags: [hello, world]
```

Thanks to the markdown capability of ipynb, MetaCell willl be shown like the following:

### This is title
+ date: 2020-02-22
+ tags: [hello, world]

So, MetaCell itself will even enhance the readability of your notebooks! 
> Hint: In jupyter notebook, press `Esc+M` will switch selected cell to markdown mode. 

## Dependency
+ pelican
+ nbconvert
+ jupyter
+ ipython

## Installation
Download this repo and put all the .py files it into an ipynb directory into your plugins directory.

In the `pelicanconf.py`
```
MARKUP = ('md', 'ipynb')

PLUGIN_PATH = 'pelican-plugins'
PLUGINS = ['pelican-plugins']
```

## Options
|Option|Default|Meaning|
|------|-------|-------|
|IPYNB_REMOVE_EMPTY|True|Remove Empty Cells, `True` by default|
|IPYNB_IGNORE|True|Remove cells with `#ignore` tag at the beginning|
|IPYNB_SUBCELLS|True|Only preserve Subcells specified by `subcells: [begin, end)` metadata|

## TODO
+ Fix the inperfect environment support?

## Acknowledgement
Thanks to [pelican-ipynb](https://github.com/danielfrg/pelican-ipynb)! From reading the code of the project, I have learned how to write a similiar plugin with my own ideas.
